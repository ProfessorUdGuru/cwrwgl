<!DOCTYPE html>
<html data-darkreader-mode="dynamic" data-darkreader-scheme="dark" lang="en"><head><style class="darkreader darkreader--fallback" media="screen"></style><style class="darkreader darkreader--text" media="screen"></style><style class="darkreader darkreader--invert" media="screen">.jfk-bubble.gtx-bubble, .captcheck_answer_label > input + img, span#closed_text > img[src^="https://www.gstatic.com/images/branding/googlelogo"], span[data-href^="https://www.hcaptcha.com/"] > #icon, #bit-notification-bar-iframe, embed[type="application/pdf"] {
    filter: invert(100%) hue-rotate(180deg) contrast(90%) !important;
}</style><style class="darkreader darkreader--inline" media="screen">[data-darkreader-inline-bgcolor] {
  background-color: var(--darkreader-inline-bgcolor) !important;
}
[data-darkreader-inline-bgimage] {
  background-image: var(--darkreader-inline-bgimage) !important;
}
[data-darkreader-inline-border] {
  border-color: var(--darkreader-inline-border) !important;
}
[data-darkreader-inline-border-bottom] {
  border-bottom-color: var(--darkreader-inline-border-bottom) !important;
}
[data-darkreader-inline-border-left] {
  border-left-color: var(--darkreader-inline-border-left) !important;
}
[data-darkreader-inline-border-right] {
  border-right-color: var(--darkreader-inline-border-right) !important;
}
[data-darkreader-inline-border-top] {
  border-top-color: var(--darkreader-inline-border-top) !important;
}
[data-darkreader-inline-boxshadow] {
  box-shadow: var(--darkreader-inline-boxshadow) !important;
}
[data-darkreader-inline-color] {
  color: var(--darkreader-inline-color) !important;
}
[data-darkreader-inline-fill] {
  fill: var(--darkreader-inline-fill) !important;
}
[data-darkreader-inline-stroke] {
  stroke: var(--darkreader-inline-stroke) !important;
}
[data-darkreader-inline-outline] {
  outline-color: var(--darkreader-inline-outline) !important;
}
[data-darkreader-inline-stopcolor] {
  stop-color: var(--darkreader-inline-stopcolor) !important;
}</style><style class="darkreader darkreader--variables" media="screen">:root {
   --darkreader-neutral-background: #131516;
   --darkreader-neutral-text: #d8d4cf;
   --darkreader-selection-background: #004daa;
   --darkreader-selection-text: #e8e6e3;
}</style><style class="darkreader darkreader--root-vars" media="screen"></style><script src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/osd.js"></script><script src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/cookie.js"></script><script src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/show_ads_impl_fy2019.js" id="google_shimpl"></script><script async="" src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/analytics.js"></script><script class="darkreader darkreader--proxy">(function injectProxy() {
        document.dispatchEvent(new CustomEvent('__darkreader__inlineScriptsAllowed'));
        const addRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'addRule');
        const insertRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'insertRule');
        const deleteRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'deleteRule');
        const removeRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'removeRule');
        const shouldWrapDocStyleSheets = location.hostname.endsWith('pushbullet.com') ||
            location.hostname.endsWith('ilsole24ore.com') ||
            location.hostname.endsWith('allegro.pl');
        const documentStyleSheetsDescriptor = shouldWrapDocStyleSheets ? Object.getOwnPropertyDescriptor(Document.prototype, 'styleSheets') : null;
        const cleanUp = () => {
            Object.defineProperty(CSSStyleSheet.prototype, 'addRule', addRuleDescriptor);
            Object.defineProperty(CSSStyleSheet.prototype, 'insertRule', insertRuleDescriptor);
            Object.defineProperty(CSSStyleSheet.prototype, 'deleteRule', deleteRuleDescriptor);
            Object.defineProperty(CSSStyleSheet.prototype, 'removeRule', removeRuleDescriptor);
            document.removeEventListener('__darkreader__cleanUp', cleanUp);
            document.removeEventListener('__darkreader__addUndefinedResolver', addUndefinedResolver);
            if (shouldWrapDocStyleSheets) {
                Object.defineProperty(Document.prototype, 'styleSheets', documentStyleSheetsDescriptor);
            }
        };
        const addUndefinedResolver = (e) => {
            customElements.whenDefined(e.detail.tag).then(() => {
                document.dispatchEvent(new CustomEvent('__darkreader__isDefined', { detail: { tag: e.detail.tag } }));
            });
        };
        document.addEventListener('__darkreader__cleanUp', cleanUp);
        document.addEventListener('__darkreader__addUndefinedResolver', addUndefinedResolver);
        const updateSheetEvent = new Event('__darkreader__updateSheet');
        function proxyAddRule(selector, style, index) {
            addRuleDescriptor.value.call(this, selector, style, index);
            if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {
                this.ownerNode.dispatchEvent(updateSheetEvent);
            }
            return -1;
        }
        function proxyInsertRule(rule, index) {
            const returnValue = insertRuleDescriptor.value.call(this, rule, index);
            if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {
                this.ownerNode.dispatchEvent(updateSheetEvent);
            }
            return returnValue;
        }
        function proxyDeleteRule(index) {
            deleteRuleDescriptor.value.call(this, index);
            if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {
                this.ownerNode.dispatchEvent(updateSheetEvent);
            }
        }
        function proxyRemoveRule(index) {
            removeRuleDescriptor.value.call(this, index);
            if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {
                this.ownerNode.dispatchEvent(updateSheetEvent);
            }
        }
        function proxyDocumentStyleSheets() {
            const docSheets = documentStyleSheetsDescriptor.get.call(this);
            const filtered = [...docSheets].filter((styleSheet) => {
                return !styleSheet.ownerNode.classList.contains('darkreader');
            });
            return Object.setPrototypeOf(filtered, StyleSheetList.prototype);
        }
        Object.defineProperty(CSSStyleSheet.prototype, 'addRule', Object.assign({}, addRuleDescriptor, { value: proxyAddRule }));
        Object.defineProperty(CSSStyleSheet.prototype, 'insertRule', Object.assign({}, insertRuleDescriptor, { value: proxyInsertRule }));
        Object.defineProperty(CSSStyleSheet.prototype, 'deleteRule', Object.assign({}, deleteRuleDescriptor, { value: proxyDeleteRule }));
        Object.defineProperty(CSSStyleSheet.prototype, 'removeRule', Object.assign({}, removeRuleDescriptor, { value: proxyRemoveRule }));
        if (shouldWrapDocStyleSheets) {
            Object.defineProperty(Document.prototype, 'styleSheets', Object.assign({}, documentStyleSheetsDescriptor, { get: proxyDocumentStyleSheets }));
        }
    })()</script><style class="darkreader darkreader--user-agent" media="screen">html {
    background-color: #181a1b !important;
}
html, body, input, textarea, select, button {
    background-color: #181a1b;
}
html, body, input, textarea, select, button {
    border-color: #736b5e;
    color: #e8e6e3;
}
a {
    color: #3391ff;
}
table {
    border-color: #545b5e;
}
::placeholder {
    color: #b2aba1;
}
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
    background-color: #555b00 !important;
    color: #e8e6e3 !important;
}
::-webkit-scrollbar {
    background-color: #202324;
    color: #aba499;
}
::-webkit-scrollbar-thumb {
    background-color: #454a4d;
}
::-webkit-scrollbar-thumb:hover {
    background-color: #575e62;
}
::-webkit-scrollbar-thumb:active {
    background-color: #484e51;
}
::-webkit-scrollbar-corner {
    background-color: #181a1b;
}
* {
    scrollbar-color: #454a4d #202324;
}
::selection {
    background-color: #004daa !important;
    color: #e8e6e3 !important;
}
::-moz-selection {
    background-color: #004daa !important;
    color: #e8e6e3 !important;
}</style>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width">
  <title>Search Keyword Highlighting &lt; JavaScript | The Art of Web</title>
  <meta name="description" content="Highlight keywords and search terms anywhere on the page using this simple JavaScript DHTML class">
  <meta name="author" content="Chirp Internet">
  <link rel="stylesheet" type="text/css" href="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/A.css"><style class="darkreader darkreader--sync" media="screen"></style>
  
  <link rel="alternate" type="application/rss+xml" title="RSS: New and updated articles" href="https://www.the-art-of-web.com/rss.xml">
<meta name="darkreader" content="60bf4a882d59e0ca87be97ebb26cf213"><style class="darkreader darkreader--override" media="screen">.vimvixen-hint {
    background-color: #7b5300 !important;
    border-color: #d8b013 !important;
    color: #f3e8c8 !important;
}
::placeholder {
    opacity: 0.5 !important;
}
a[href="https://coinmarketcap.com/"] > svg[width="94"][height="16"] > path {
    fill: var(--darkreader-neutral-text) !important;
}
#edge-translate-panel-body {
    color: var(--darkreader-neutral-text) !important;
}</style><meta http-equiv="origin-trial" content="A+b/H0b8RPXNaJgaNFpO0YOFuGK6myDQXlwnJB3SwzvNMfcndat4DZYMrP4ClJIzYWo3/yP2S+8FTZ/lpqbPAAEAAABueyJvcmlnaW4iOiJodHRwczovL2ltYXNkay5nb29nbGVhcGlzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzVGhpcmRQYXJ0eSI6dHJ1ZX0="><meta http-equiv="origin-trial" content="A9ZgbRtm4pU3oZiuNzOsKcC8ppFSZdcjP2qYcdQrFKVzkmiWH1kdYY1Mi9x7G8+PS8HV9Ha9Cz0gaMdKsiVZIgMAAAB7eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AxL6oBxcpn5rQDPKSAs+d0oxNyJYq2/4esBUh3Yx5z8QfcLu+AU8iFCXYRcr/CEEfDnkxxLTsvXPJFQBxHfvkgMAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A9KPtG5kl3oLTk21xqynDPGQ5t18bSOpwt0w6kGa6dEWbuwjpffmdUpR3W+faZDubGT+KIk2do0BX2ca16x8qAcAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AookgM0K6zABiuRTZwpn+R95G2CKmUH/2+zf2kS/QpMlVZ6HTI6QekeLkrJyxeIi62p2ejcQTF464pkdlx0Nwg0AAABmeyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGUuY29tOjQ0MyIsImZlYXR1cmUiOiJUcnVzdFRva2VucyIsImV4cGlyeSI6MTYzNDA4MzE5OSwiaXNTdWJkb21haW4iOnRydWV9"><meta http-equiv="origin-trial" content="A3HucHUo1oW9s+9kIKz8mLkbcmdaj5lxt3eiIMp1Nh49dkkBlg1Fhg4Fd/r0vL69mRRA36YutI9P/lJUfL8csQoAAACFeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A0OysezhLoCRYomumeYlubLurZTCmsjTb087OvtCy95jNM65cfEsbajrJnhaGwiTxhz38ZZbm+UhUwQuXfVPTg0AAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="AxoOxdZQmIoA1WeAPDixRAeWDdgs7ZtVFfH2y19ziTgD1iaHE5ZGz2UdSjubkWvob9C5PrjUfkWi4ZSLgWk3Xg8AAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A7+rMYR5onPnACrz+niKSeFdH3xw1IyHo2AZSHmxrofRk9w4HcQPMYcpBUKu6OQ6zsdxf4m/vqa6tG6Na4OLpAQAAAB4eyJvcmlnaW4iOiJodHRwczovL2ltYXNkay5nb29nbGVhcGlzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AwfG8hAcHnPa/kJ1Co0EvG/K0F9l1s2JZGiDLt2mhC3QI5Fh4qmsmSwrWObZFbRC9ieDaSLU6lHRxhGUF/i9sgoAAACBeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiSW50ZXJlc3RDb2hvcnRBUEkiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AwQ7dCmHkvR6FuOFxAuNnktYSQrGbL4dF+eBkrwNLALc69Wr//PnO1yzns3pjUoCaYbKHtVcnng2hU+8OUm0PAYAAACHeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiSW50ZXJlc3RDb2hvcnRBUEkiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AysVDPGQTLD/Scn78x4mLwB1tMfje5jwUpAAzGRpWsr1NzoN7MTFhT3ClmImi2svDZA7V6nWGIV8YTPsSRTe0wYAAACHeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiSW50ZXJlc3RDb2hvcnRBUEkiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A+b/H0b8RPXNaJgaNFpO0YOFuGK6myDQXlwnJB3SwzvNMfcndat4DZYMrP4ClJIzYWo3/yP2S+8FTZ/lpqbPAAEAAABueyJvcmlnaW4iOiJodHRwczovL2ltYXNkay5nb29nbGVhcGlzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzVGhpcmRQYXJ0eSI6dHJ1ZX0="><meta http-equiv="origin-trial" content="A9ZgbRtm4pU3oZiuNzOsKcC8ppFSZdcjP2qYcdQrFKVzkmiWH1kdYY1Mi9x7G8+PS8HV9Ha9Cz0gaMdKsiVZIgMAAAB7eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AxL6oBxcpn5rQDPKSAs+d0oxNyJYq2/4esBUh3Yx5z8QfcLu+AU8iFCXYRcr/CEEfDnkxxLTsvXPJFQBxHfvkgMAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A9KPtG5kl3oLTk21xqynDPGQ5t18bSOpwt0w6kGa6dEWbuwjpffmdUpR3W+faZDubGT+KIk2do0BX2ca16x8qAcAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AookgM0K6zABiuRTZwpn+R95G2CKmUH/2+zf2kS/QpMlVZ6HTI6QekeLkrJyxeIi62p2ejcQTF464pkdlx0Nwg0AAABmeyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGUuY29tOjQ0MyIsImZlYXR1cmUiOiJUcnVzdFRva2VucyIsImV4cGlyeSI6MTYzNDA4MzE5OSwiaXNTdWJkb21haW4iOnRydWV9"><meta http-equiv="origin-trial" content="A3HucHUo1oW9s+9kIKz8mLkbcmdaj5lxt3eiIMp1Nh49dkkBlg1Fhg4Fd/r0vL69mRRA36YutI9P/lJUfL8csQoAAACFeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A0OysezhLoCRYomumeYlubLurZTCmsjTb087OvtCy95jNM65cfEsbajrJnhaGwiTxhz38ZZbm+UhUwQuXfVPTg0AAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="AxoOxdZQmIoA1WeAPDixRAeWDdgs7ZtVFfH2y19ziTgD1iaHE5ZGz2UdSjubkWvob9C5PrjUfkWi4ZSLgWk3Xg8AAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A7+rMYR5onPnACrz+niKSeFdH3xw1IyHo2AZSHmxrofRk9w4HcQPMYcpBUKu6OQ6zsdxf4m/vqa6tG6Na4OLpAQAAAB4eyJvcmlnaW4iOiJodHRwczovL2ltYXNkay5nb29nbGVhcGlzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AwfG8hAcHnPa/kJ1Co0EvG/K0F9l1s2JZGiDLt2mhC3QI5Fh4qmsmSwrWObZFbRC9ieDaSLU6lHRxhGUF/i9sgoAAACBeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiSW50ZXJlc3RDb2hvcnRBUEkiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AwQ7dCmHkvR6FuOFxAuNnktYSQrGbL4dF+eBkrwNLALc69Wr//PnO1yzns3pjUoCaYbKHtVcnng2hU+8OUm0PAYAAACHeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiSW50ZXJlc3RDb2hvcnRBUEkiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AysVDPGQTLD/Scn78x4mLwB1tMfje5jwUpAAzGRpWsr1NzoN7MTFhT3ClmImi2svDZA7V6nWGIV8YTPsSRTe0wYAAACHeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiSW50ZXJlc3RDb2hvcnRBUEkiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><link rel="preload" href="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/integrator_002.js" as="script"><script type="text/javascript" src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/integrator_002.js"></script><link rel="preload" href="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/integrator.js" as="script"><script type="text/javascript" src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/integrator.js"></script><link rel="preload" href="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/integrator_002.js" as="script"><script type="text/javascript" src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/integrator_002.js"></script><link rel="preload" href="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/integrator.js" as="script"><script type="text/javascript" src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/integrator.js"></script></head>

<body>

<!--htdig_noindex-->
<a class="chirplink" accesskey="S" href="#content">skip to content</a>
<!--/htdig_noindex-->

<header id="header">
<a href="https://www.the-art-of-web.com/"><img src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/banner-taow.png" alt="The Art of Web" width="737" height="87"></a>
<!--htdig_noindex-->
<nav id="menu" itemscope="" itemtype="http://schema.org/WebSite">
<meta itemprop="url" content="https://www.the-art-of-web.com/">
<form id="searchbox" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction" method="POST" action="/searchresult.html" accept-charset="UTF-8" onsubmit="return (words.value != '');">
<meta itemprop="target" content="https://www.the-art-of-web.com/searchresult.html?words={words}">
<input aria-label="site search" id="sitesearch" itemprop="query-input" type="search" results="10" autosave="searches" name="words" placeholder="Search">
<ul id="suggest"><li></li></ul>
</form>
<ul>
  <li id="menu_trigger"><a href="#" accesskey="M">≡</a></li>
  <li><a accesskey="1" href="https://www.the-art-of-web.com/">Home</a></li>
  <li><a accesskey="2" href="https://www.the-art-of-web.com/html/">HTML</a></li>
  <li><a accesskey="3" href="https://www.the-art-of-web.com/css/">CSS</a></li>
  <li><a accesskey="4" href="https://www.the-art-of-web.com/javascript/">JavaScript</a></li>
  <li><a accesskey="5" href="https://www.the-art-of-web.com/php/">PHP</a></li>
  <li><a accesskey="6" href="https://www.the-art-of-web.com/sql/">SQL</a></li>
  <li><a accesskey="7" href="https://www.the-art-of-web.com/system/">System</a></li>
  <li><a accesskey="8" href="https://www.the-art-of-web.com/links/">Links</a></li>
</ul>
</nav>
<!--/htdig_noindex-->
</header>

<aside id="rhs">
<script async="" src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/adsbygoogle.js"></script>
<!-- The Art of Web - RWD Top -->
<ins class="adsbygoogle" style="display: block; height: 600px;" data-ad-client="ca-pub-9789897350102210" data-ad-slot="8956648230" data-ad-format="auto" data-adsbygoogle-status="done" data-ad-status="filled"><ins id="aswift_0_expand" style="display: inline-table; border: medium none; height: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 173px; background-color: transparent; --darkreader-inline-border-top:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-bgcolor:transparent;" tabindex="0" title="Advertisement" aria-label="Advertisement" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" data-darkreader-inline-bgcolor=""><ins id="aswift_0_anchor" style="display: block; border: medium none; height: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 173px; background-color: transparent; overflow: visible; --darkreader-inline-border-top:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-bgcolor:transparent;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" data-darkreader-inline-bgcolor=""><iframe id="aswift_0" name="aswift_0" style="left: 0px; position: absolute; top: 0px; border: 0px none; width: 173px; height: 600px; --darkreader-inline-border-top:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/ads.htm" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!1" data-google-query-id="CP7oxuDhz_ECFVXBlgodKksOrA" data-load-complete="true" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" width="173" height="600" frameborder="0"></iframe></ins></ins></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
</aside>

<main id="content" style="height: auto !important; min-height: 0px !important;">
<!--htdig_noindex-->
<aside id="ad_content" class="noprint">
<script async="" src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/adsbygoogle.js"></script>
<!-- The Art of Web - RWD Content -->
<ins class="adsbygoogle" style="display: block; height: 280px;" data-ad-client="ca-pub-9789897350102210" data-ad-slot="1433381437" data-ad-format="auto" data-adsbygoogle-status="done" data-ad-status="filled"><ins id="aswift_1_expand" style="display: inline-table; border: medium none; height: 280px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 792px; background-color: transparent; --darkreader-inline-border-top:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-bgcolor:transparent;" tabindex="0" title="Advertisement" aria-label="Advertisement" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" data-darkreader-inline-bgcolor=""><ins id="aswift_1_anchor" style="display: block; border: medium none; height: 280px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 792px; background-color: transparent; overflow: visible; --darkreader-inline-border-top:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-bgcolor:transparent;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" data-darkreader-inline-bgcolor=""><iframe id="aswift_1" name="aswift_1" style="left: 0px; position: absolute; top: 0px; border: 0px none; width: 792px; height: 280px; --darkreader-inline-border-top:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/ads.htm" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!2" data-google-query-id="CPaTx-Dhz_ECFROGlgodxfwHTg" data-load-complete="true" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" width="792" height="280" frameborder="0"></iframe></ins></ins></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
</aside>

<div id="submenu"><ol><li id="submenu_trigger" class="mobileonly"><a href="#">☰ Submenu</a></li><li><a href="#section_0">Working example</a></li><li><a href="#section_1">How to implement</a></li><li><a href="#section_2">The hilitor.js JavaScript class</a></li><li><a href="#section_3">Under the hood</a></li><li><a href="#section_4">Changing the Match Type</a></li><li><a href="#section_5">Working with regular expressions</a></li><li><a href="#onload">Using an onload event</a></li><li><a href="#section_7">Link to turn off highlighting</a></li><li><a href="#section_8">Identifying search keywords</a></li><li><a href="#related">Related Articles - Search Highlighting</a></li><li><a href="#section_10">References</a></li><li><a href="#user_comments">User Comments</a></li></ol></div>
<!--/htdig_noindex-->

<h1><span class="nomobile">JavaScript: </span>Search Keyword Highlighting</h1><p id="remove_link" class="noprint" style="font-size: 10px;"><b>Highlighted terms</b>: highlighted | <a href="https://www.the-art-of-web.com/javascript/search-highlight/?nohilite" onclick="myHilitor.remove(); document.getElementById('remove_link').style['display'] = 'none'; return false;">remove</a></p>

<p class="social_counters"><a class="tweets" title="Share on Twitter" target="_blank" href="https://twitter.com/intent/tweet?text=Search+Keyword+Highlighting:&amp;url=https%3A%2F%2Fwww.the-art-of-web.com%2Fjavascript%2Fsearch-highlight%2F&amp;via=theartofweb"><span>&nbsp;<span>Tweet</span></span></a><a class="likes" title="Share on Facebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.the-art-of-web.com%2Fjavascript%2Fsearch-highlight%2F"><span>0<span> Shares</span></span></a><a class="reddit" title="Post to Reddit" target="_blank" href="http://www.reddit.com/submit?title=Search+Keyword+Highlighting&amp;url=https%3A%2F%2Fwww.the-art-of-web.com%2Fjavascript%2Fsearch-highlight%2F"><span>0<span> Tweets</span></span></a><a class="feedback" title="User Commentc" href="#user_comments" accesskey="C"><span>77<span> Comments</span></span></a></p>


<p>If you've arrived here via a search engine you may have noticed that 
the keywords you searched for appeared <mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark> on the landing page. 
Here we explain how this is done using JavaScript.</p>

<p>There are two components - firstly identifying the keywords, and then 
highlighting them on the page using JavaScript.  This article covers 
only the second part - using DHTML to dynamically modify the DOM.</p>

<p><strong>Unfortunately extracting search strings from search engine 
referrals is now nigh on impossible, but the highlighting code by itself 
has proven extremely popular.</strong></p>


<h2 id="section_0">1. Working example</h2>

<p>Enter some keywords in the box below and click the <b>Apply</b> 
button.  Words in the page content that match the words you've entered 
will be instantly <mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark> in different colours:</p>

<form method="GET" action="/javascript/search-highlight/" onsubmit="myHilitor.apply(hilite.value); return false;">
<fieldset>
<legend>Highlight Words</legend>
<label>Keywords</label><span><input type="text" size="32" name="hilite" value="search engine keywords">
<input type="submit" value="Apply">
<input type="button" value="Remove" onclick="myHilitor.remove();"></span>
</fieldset>
</form>

<p>To remove highlighting click the <b>Remove</b> button.</p>


<h2 id="section_1">2. How to implement</h2>

<p>First we take the form input (e.g. "search engine 
keywords") and convert it into a JavaScript regular expression 
(e.g. "/\b(search|engine|keywords)\b/").  This regular 
expression will match any of the entered words where they appear in the 
content area of the page.</p>

<p>In practice what we do is generate the list of keywords to highlight 
using the search engine referer string, and then exclude common stop 
words such as 'is', 'and', 'are', etc, but that's another story.</p>

<p>Here is the code we use to call the highlighting function:</p>

<code class="final">&lt;script type="text/javascript" src="<a href="https://www.the-art-of-web.com/hilitor.js">hilitor.js</a>"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;

  var myHilitor = new Hilitor("<i>content</i>"); <i>// id of the element to parse</i>
  myHilitor.apply("<i>highlight words</i>");

&lt;/script&gt;</code>

<p><strong>Please make a local copy of the <tt>hilitor.js</tt> script on 
your server rather than linking it from this website.  We have some 
built-in protections which are triggered by hot-linking.</strong></p>

<p>The first line creates an instance of the <tt>Hilitor</tt> class, 
specifying that the area to be scanned is the <tt>#content</tt> element 
(i.e. inside &lt;main id="content"&gt;...&lt;/main&gt;) on the 
page.  If we don't supply a valid <tt>id</tt> then the script will scan 
<tt>document.body</tt>, but it's better to limit it to just your content 
area to avoid highlighting appearing in the page header, menu or 
footer.</p>

<p>The tag used by default to apply highlighting to matched words is the 
HTML5 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/mark" target="_blank">MARK</a> tag.  We can change that if we want by passing a 
second parameter with a different tag name.  You can use any tag that 
renders <em>inline</em> - so not a <tt>DIV</tt> or similar block element 
which would break the layout.</p>

<p>Calling the <tt>apply()</tt> method passes the words to be <mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark> 
to the just instantiated object which traverses the DOM inside the 
selected node looking for text that matches any of the keywords.</p>

<p>When a match is found, the text node in question is split up and a 
tag with style settings applied to the matching words.  Each word is 
assigned a colour from the array supplied in the script which is then 
used throughout the document for that word.</p>

<p>To remove the highlighting from the page we simply call (from a 
link, script or button):</p>

<code class="final">&lt;script type="text/javascript"&gt;

  myHilitor.remove();

&lt;/script&gt;</code>

<p>If the colours used for highlighting look familiar, it's because they 
were copied from a now defunct version of Google Cache View.</p>


<h2 id="section_2">3. The hilitor.js JavaScript class</h2>

<p>The JavaScript code for this class can be downloaded or copied 
below.  The two main methods are <tt>apply()</tt> and <tt>remove()</tt> 
which respectively apply word highlighting on the page and then remove 
it, restoring the DOM (more or less) to its original state.</p>

<p>In the variables section you may want to change the default tag to 
use for highlighting (currently <tt>MARK</tt>), the list of tags to skip 
(SCRIPT and FORM) or the array of colours.</p>

<h4>Source code for <a href="https://www.the-art-of-web.com/hilitor.js">hilitor.js</a>:</h4>

<code id="box1" class="final" style="height: 400px;"><i>// Original JavaScript code by Chirp Internet: chirpinternet.eu</i>
<i>// Please acknowledge use of this code by including this header.</i>

function Hilitor(id, tag)
{

  <i>// private variables</i>
  var targetNode = document.getElementById(id) || document.body;
  var hiliteTag = tag || "MARK";
  var skipTags = new RegExp("^(?:" + hiliteTag + "|SCRIPT|FORM|SPAN)$");
  var colors = ["#ff6", "#a0ffff", "#9f9", "#f99", "#f6f"];
  var wordColor = [];
  var colorIdx = 0;
  var matchRegExp = "";
  var openLeft = false;
  var openRight = false;

  <i>// characters to strip from start and end of the input string</i>
  var endRegExp = new RegExp('^[^\\w]+|[^\\w]+$', "g");

  <i>// characters used to break up the input string into words</i>
  var breakRegExp = new RegExp('[^\\w\'-]+', "g");

  this.setEndRegExp = function(regex) {
    endRegExp = regex;
    return endRegExp;
  };

  this.setBreakRegExp = function(regex) {
    breakRegExp = regex;
    return breakRegExp;
  };

  this.setMatchType = function(type)
  {
    switch(type)
    {
      case "left":
        this.openLeft = false;
        this.openRight = true;
        break;

      case "right":
        this.openLeft = true;
        this.openRight = false;
        break;

      case "open":
        this.openLeft = this.openRight = true;
        break;

      default:
        this.openLeft = this.openRight = false;

    }
  };

  this.setRegex = function(input)
  {
    input = input.replace(endRegExp, "");
    input = input.replace(breakRegExp, "|");
    input = input.replace(/^\||\|$/g, "");
    if(input) {
      var re = "(" + input + ")";
      if(!this.openLeft) {
        re = "\\b" + re;
      }
      if(!this.openRight) {
        re = re + "\\b";
      }
      matchRegExp = new RegExp(re, "i");
      return matchRegExp;
    }
    return false;
  };

  this.getRegex = function()
  {
    var retval = matchRegExp.toString();
    retval = retval.replace(/(^\/(\\b)?|\(|\)|(\\b)?\/i$)/g, "");
    retval = retval.replace(/\|/g, " ");
    return retval;
  };

  <i>// recursively apply word highlighting</i>
  this.hiliteWords = function(node)
  {
    if(node === undefined || !node) return;
    if(!matchRegExp) return;
    if(skipTags.test(node.nodeName)) return;

    if(node.hasChildNodes()) {
      for(var i=0; i &lt; node.childNodes.length; i++)
        this.hiliteWords(node.childNodes[i]);
    }
    if(node.nodeType == 3) { <i>// NODE_TEXT</i>
      if((nv = node.nodeValue) &amp;&amp; (regs = matchRegExp.exec(nv))) {
        if(!wordColor[regs[0].toLowerCase()]) {
          wordColor[regs[0].toLowerCase()] = colors[colorIdx++ % colors.length];
        }

        var match = document.createElement(hiliteTag);
        match.appendChild(document.createTextNode(regs[0]));
        match.style.backgroundColor = wordColor[regs[0].toLowerCase()];
        match.style.color = "#000";

        var after = node.splitText(regs.index);
        after.nodeValue = after.nodeValue.substring(regs[0].length);
        node.parentNode.insertBefore(match, after);
      }
    };
  };

  <i>// remove highlighting</i>
  this.remove = function()
  {
    var arr = document.getElementsByTagName(hiliteTag);
    while(arr.length &amp;&amp; (el = arr[0])) {
      var parent = el.parentNode;
      parent.replaceChild(el.firstChild, el);
      parent.normalize();
    }
  };

  <i>// start highlighting at target node</i>
  this.apply = function(input)
  {
    this.remove();
    if(input === undefined || !(input = input.replace(/(^\s+|\s+$)/g, ""))) {
      return;
    }
    if(this.setRegex(input)) {
      this.hiliteWords(targetNode);
    }
    return matchRegExp;
  };

}
</code>
<p style="margin-top: 0; text-align: right;"><small><a href="#box1" onclick="document.getElementById('box1').style['height'] = 'auto'; this.parentNode.style['display'] = 'none'; return true;">expand code box</a></small></p>



<h2 id="section_3">4. Under the hood</h2>

<p>When the <tt>apply()</tt> method is called it generates a regular 
expression from the keywords, clears any existing highlighting on the 
page, and then calls the <tt>hiliteWords()</tt> method passing a 
reference to the selected start node.</p>

<p>The <tt>hiliteWords()</tt> method examines the first node to see if it 
has any child nodes in which case it calls itself recursively once for 
each child.  When a text node is encountered its contents are tested 
against the regular expression to see if any of our keywords are 
present.</p>

<p>If there are one or more matches the text node is cut in two at the 
point where the first match was found.  The matched word itself is 
wrapped in an <tt>MARK</tt> tag that also specifies the background colour.  
The process then continues.</p>

<p>It's a bit difficult to explain, but essentially what takes place is 
the following:</p>

<h4>DOM before</h4>

<code>Container &gt; Text Node

e.g. &lt;p&gt;Paragraph with <mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark> word.&lt;/p&gt;</code>

<h4>DOM after</h4>

<code>Container &gt; Text Node          <i>// original text node, truncated</i>
          &gt; MARK &gt; Text Node     <i>// var match</i>
          &gt; Text Node          <i>// var after</i>

e.g. &lt;p&gt;Paragraph with &lt;mark&gt;<mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark>&lt;/mark&gt; word.&lt;/p&gt;</code>

<p>As the script encounters and highlights different keywords the colour 
used for each is remembered so that the same keyword can be <mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark> 
consistently down the page.</p>

<p>The <tt>for</tt> loop doesn't mind that there are suddenly three 
extra nodes.  It moves to the next node, which is the <tt>MARK</tt>, 
skips it and moves to the <tt>after</tt> Text Node containing the 
remainder of the node that was originally split in two.</p>

<p>Feel free to adapt and use this code as you see fit.  We use it to 
highlight search engine query keywords after the keywords have been 
extracted from the HTTP Referer using a server-side script, but that's more than can be explained in a single article.</p>


<h2 id="section_4">5. Changing the Match Type</h2>

<p>We've added a new method for the <tt>Hilitor</tt> class 
<tt>setMatchType()</tt>.  You can set this to 'left', 'right' or 'open'.  
Any other value will restore the default behaviour of only matching 
whole words.</p>

<p>The effect is to change the regular expression as shown here:</p>

<dl>
  <dt>default</dt>
  <dd><tt>/\b(input|text)\b/i</tt></dd>
  <dt>.setMatchType("left");</dt>
  <dd><tt>/\b(input|text)/i</tt></dd>
  <dt>.setMatchType("right");</dt>
  <dd><tt>/(input|text)\b/i</tt></dd>
  <dt>.setMatchType("open");</dt>
  <dd><tt>/(input|text)/i</tt></dd>
</dl>

<div id="playground">

<p>Here is a simple working example:</p>

<div style="border: 1px solid; padding: 0.5em 1em; --darkreader-inline-border-top:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">
<form method="GET" action="/javascript/search-highlight/" onsubmit="return false;">
<p>Highlight keywords as you type: <input id="keywords" type="text" size="24"></p>
</form>

<p><small>Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
Vivamus felis erat, facilisis vitae est sed, interdum luctus dui. Donec 
condimentum in neque ac consequat. Donec interdum quis massa molestie 
consequat. Pellentesque habitant morbi tristique senectus et netus et 
malesuada fames ac turpis egestas. Vestibulum malesuada quam quis sapien
 volutpat placerat. Phasellus varius, enim vel fringilla pellentesque, 
felis velit mollis lacus, ac scelerisque sem sem sed eros.</small></p>

</div>

<p>This example has been coded to apply only to it's own section of the 
page, unlike the main example which will highlight text throughout:</p>

<code>&lt;div id="<i>playground</i>"&gt;

&lt;form&gt;
&lt;p&gt;Highlight keywords as you type: &lt;input id="<i>keywords</i>" size="24"&gt;&lt;/p&gt;
&lt;/form&gt;

&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
Vivamus felis erat, facilisis vitae est sed, interdum luctus dui. Donec 
condimentum in neque ac consequat. Donec interdum quis massa molestie 
consequat. Pellentesque habitant morbi tristique senectus et netus et 
malesuada fames ac turpis egestas. Vestibulum malesuada quam quis sapien 
volutpat placerat. Phasellus varius, enim vel fringilla pellentesque, 
felis velit mollis lacus, ac scelerisque sem sem sed eros.&lt;/p&gt;

&lt;/div&gt;

&lt;script src="<a href="https://www.the-art-of-web.com/hilitor.js">hilitor.js</a>"&gt;&lt;/script&gt;
&lt;script&gt;

  window.addEventListener("DOMContentLoaded", function(e) {
    var myHilitor2 = new Hilitor("<i>playground</i>");
    myHilitor2.<span>setMatchType("left")</span>;
    document.getElementById("<i>keywords</i>").addEventListener("keyup", function(e) {
      myHilitor2.apply(this.value);
    }, false);
  }, false);

&lt;/script&gt;</code>

</div>


<h2 id="section_5">6. Working with regular expressions</h2>

<p>The <tt>setRegex()</tt> and <tt>getRegex()</tt> methods convert the 
input string of keywords into a JavaScript regular expression and vice 
versa.  Note in particular the the regular expressions defined at the 
top of the script (<tt>endRegExp</tt> and <tt>breakRegExp</tt>).</p>

<p>When an input string is received:</p>

<ul>
  <li> <tt>endRegExp</tt> is used to trim unwanted characters from the start and end of the string; and then</li>
  <li> <tt>breakRegExp</tt> is used to split the input string into separate words to be <mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark> on the page.</li>
</ul>

<p>The shorthand "\w" (written as \\w when instantiating a 
<tt>RegExp</tt> object) represents the set of alphanumeric characters 
(A-Za-z0-9) including the underscore (_).  Our default regular 
expression also includes hyphens (-) and apostrophes (').</p>

<p>We change the behaviour of our script by changing these regular 
expressions.  For example:</p>

<h4>Search for strings that include spaces:</h4>

<code>  myHilitor.setBreakRegExp(new RegExp('[^\\w\'<span> </span>-]+', "g")); <i>// expanded to include spaces</i>
  myHilitor.apply("input string,keywords,page");</code>

<h4>Search for email addresses:</h4>

<p>This regular expression will cover strings including "@" 
and ".":</p>

<code>  myHilitor.setBreakRegExp(new RegExp('[^\\w\'<span>@.</span>-]+', "g")); <i>// expanded to include email characters</i>
  myHilitor.apply("nobody@example.net");</code>

<p>Otherwise any email addresses (nobody@example.net) in the search 
keywords would be broken into separate words at each '@' or '.'.</p>

<h4>Search for #hashtags:</h4>

<p><strong>Trying to match #hashtags in a string is problematic.  Rather 
than <tt>/\b(#hashtag)\b/</tt> you actually need just 
<tt>/(#hashtag)\b/</tt> - because there is no <tt>\b</tt> before the #, 
while there is a <tt>\b</tt> between '#' and 'h' - which the code only 
supports if we make the search type "right" or "open":</strong></p>

<code>  myHilitor.setEndRegExp('^[^\\w<span>#</span>]+|[^\\w]+$');
  myHilitor.setBreakRegExp(new RegExp('[^\\w\'<span>#</span>-]+', "g"));
  myHilitor.<span>setMatchType("right")</span>;
  myHilitor.apply("match,#hashtag,code");</code>

<p>Similar problems exist when there are accented characters, and for 
that we have a separate branch of the code <a href="https://www.the-art-of-web.com/javascript/highlight-words-utf8/">with UTF-8 support</a> which 
might be more useful in real world situations.</p>


<h2 id="onload">7. Using an onload event</h2>

<p>Since it's very unfasionable to call javascript inline, here is 
an example of how you can apply highlighting to the page using an event 
listener that only fires after the page has been completely rendered:</p>

<code class="final">&lt;script type="text/javascript" src="<a href="https://www.the-art-of-web.com/hilitor.js">hilitor.js</a>"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;

  var myHilitor; <i>// global variable</i>
  window.addEventListener("DOMContentLoaded", function(e) {
    myHilitor = new Hilitor("<tt>content</tt>");
    myHilitor.apply("<span>highlight these words</span>");
  }, false);

&lt;/script&gt;</code>

<p>The function call is identical to the example above, just delayed 
until the page has finished rendering rather than being executed as soon 
as the function call is encountered.</p>

<p>We've declared <tt>myHilitor</tt> as a global variable to enable 
later calls to remove or update keyword highlighting on the page using 
the <tt>remove()</tt> and <tt>apply()</tt> methods.</p>


<h2 id="section_7">8. Link to turn off highlighting</h2>

<p>You might be wondering how we generate the link that appears at the 
top of the page showing the words that have been <mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark> alongside 
a link to remove the highlighting.</p>

<p>It's a bit of a hack, but the code is as follows:</p>

<code>(function() {
  var targetNode = document.getElementsByTagName("<span>h1</span>")[0]; <i>// first h1 on page</i>
  var el = document.createElement("p"); <i>// create new p</i>
  el.id = "remove_hilite";
  el.style.fontSize = "10px"; <i>// styles can better be applied using css</i>
  el.innerHTML = "&lt;b&gt;<mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">Highlighted</mark> terms&lt;/b&gt;: " + myHilitor.getRegex() + " | &lt;a href=\"#\" onclick=\"<span>myHilitor.remove()</span>; document.getElementById('remove_hilite').style['display'] = 'none'; return false;\"&gt;remove&lt;/a&gt;";
  targetNode.parentNode.insertBefore(el, targetNode.nextSibling); <i>// insert p element after first h1</i>
})();</code>

<p>This inserts a new paragraph (<tt>P</tt>) following the first 
<tt>H1</tt> heading on the page.  The text displays the keywords and 
also a 'remove' link which calls the <tt>remove</tt> method.  You can 
see an example <a rel="nofollow" href="https://www.the-art-of-web.com/javascript/search-highlight/?hilite=search+engine+keywords">here</a>.</p>

<p>These commands can also be bundled into the <tt>onload</tt> method 
above, in which case you no longer need to wrap them in an anonymous 
function.  The complete code then is as follows:</p>

<code class="final">&lt;script src="<a href="https://www.the-art-of-web.com/hilitor.js">hilitor.js</a>"&gt;&lt;/script&gt;
&lt;script&gt;

  window.addEventListener("DOMContentLoaded", function(e) {
    <i>// highlight search terms on page</i>
    var myHilitor = new Hilitor("<tt>content</tt>");
    myHilitor.apply("<span>highlight these words</span>");

    <i>// (optional) display link to remove highlighting</i>
    var targetNode = document.getElementsByTagName("h1")[0];
    var el = document.createElement("p");
    el.id = "remove_hilite";
    el.style.fontSize = "10px";
    el.innerHTML = "&lt;b&gt;<mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">Highlighted</mark> terms&lt;/b&gt;: " + myHilitor.getRegex() + " | &lt;a href=\"#\" onclick=\"myHilitor.remove(); document.getElementById('remove_hilite').style['display'] = 'none'; return false;\"&gt;remove&lt;/a&gt;";
    targetNode.parentNode.insertBefore(el, targetNode.nextSibling);
  }, false);

&lt;/script&gt;</code>

<p>Here we don't declare a global variable as the on-page link is 
created from within the enclosure and can refer to the Hilitor 
object.</p>


<h2 id="section_8">9. Identifying search keywords</h2>

<p>To identify search keywords you need to parse the browsers 
HTTP_REFERER string.  Depending on which search engine was used the 
keywords will usually appear after <tt>q=</tt> or <tt>query=</tt>, but 
there are also other possibilities.</p>

<p>Since 2011, unfortunately, Google does not pass this information for 
logged in users making it impossible for us to identify their search 
keywords.</p>


<h2 id="related">10. Related Articles - Search Highlighting</h2>

<ul>
  <li><b>Search Keyword Highlighting</b> <small style="font-size: 9px; color: rgb(204, 204, 204); --darkreader-inline-color:#c8c3bc;" data-darkreader-inline-color="">[JAVASCRIPT]</small></li>
  <li> <a href="https://www.the-art-of-web.com/javascript/highlight-words-utf8/">Highlighting Words With UTF-8 Support</a> <small style="font-size: 9px; color: rgb(204, 204, 204); --darkreader-inline-color:#c8c3bc;" data-darkreader-inline-color="">[JAVASCRIPT]</small></li>
  <li> <a href="https://www.the-art-of-web.com/javascript/search-highlight-demo/">UTF-8 Search Highlight Demo</a> <small style="font-size: 9px; color: rgb(204, 204, 204); --darkreader-inline-color:#c8c3bc;" data-darkreader-inline-color="">[JAVASCRIPT]</small></li>
</ul>


<h2 id="section_10">11. References</h2>

<ul>
  <li><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank">MDN: JavaScript Regular Expressions</a></li>
</ul>


<p class="noprint"><a href="https://www.the-art-of-web.com/javascript/">&lt; JavaScript</a></p>

<script>var myHilitor2;window.addEventListener("DOMContentLoaded",function(e){myHilitor2=new Hilitor("playground");myHilitor2.setMatchType("left");document.getElementById("keywords").addEventListener("keyup",function(e){myHilitor2.apply(this.value);},false);},false);</script>

<div class="clear"></div>

<ul id="share">
  <li class="fbook"><a title="Share on Facebook" target="_blank" href="http://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.the-art-of-web.com%2Fjavascript%2Fsearch-highlight%2F"><!-- --></a></li>
  <li class="tweet"><a title="Tweet This" target="_blank" href="https://twitter.com/intent/tweet?text=JavaScript%3A+Search+Keyword+Highlighting&amp;url=http%3A%2F%2Fwww.the-art-of-web.com%2Fjavascript%2Fsearch-highlight%2F&amp;via=theartofweb"></a></li>
</ul>

<script>document.getElementById("share").addEventListener("touchstart",function(e){e.target.className="hover";},{passive:true});</script>
<!-- start feedback form -->
<div id="feedback">
<h4>Send a message to The Art of Web:</h4>

<form id="feedback_form" method="POST" action="/feedback.html" accept-charset="UTF-8">
<input type="hidden" name="chirp\securetoken" value="6adbc3a56ae66d1cd2343d0dc81da3cf">
<input type="hidden" name="crypted" value="6b3ab850e138c279554ed9ba2410cb9fPCZBAM4=">
<input type="hidden" name="timestamp" value="Wed, 07 Jul 2021 11:03:37 +1000">
<p><label>Your Name<strong>*</strong><br>
<input id="field_name" required="" type="text" size="48" name="name"></label></p>
<p><label>Email Address<strong>*</strong><br>
<input id="field_email" type="email" required="" size="48" name="email"></label><br>
<small>used only for us to reply, and to display your <a tabindex="-1" href="https://en.gravatar.com/" target="_blank">gravatar</a>.</small></p>
<p><label>Website<br>
<input type="url" pattern="^https?://.+" size="48" name="website" placeholder="http://"></label></p>
<p><label>Message<strong>*</strong><br>
<textarea id="field_message" name="message" required="" cols="48" rows="8"></textarea></label></p>
<p><img class="captcha" style="background: rgba(0, 0, 0, 0) url(&quot;data:image/png;base64,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&quot;) repeat scroll center bottom; --darkreader-inline-bgcolor:rgba(0, 0, 0, 0);" src="data:image/png;base64,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" alt="" data-darkreader-inline-bgcolor=""></p>
<p><label><a tabindex="-1" href="https://www.the-art-of-web.com/php/captcha/">CAPTCHA</a><strong>*</strong>: <input id="captcha_code" type="text" required="" pattern="\d{5}" name="captcha" size="8" maxlength="5"></label>
 <small>&lt;- copy the digits from the image into this box</small></p>
<p><input type="submit" name="submit" value="Send Feedback"></p>
</form>

<p class="instruction">press &lt;Esc&gt; or click outside this box to close</p>

</div> <!-- #feedback -->
<h2 id="user_comments">12. User Comments</h2>

<p id="feedback_count" style="font-size: 0.9em; color: rgb(102, 102, 102); --darkreader-inline-color:#a8a095;" data-darkreader-inline-color="">Most recent 20 of 77 comments:</p>

<a class="post_comment show_feedback">Post your comment or question</a>

<div id="comments">
<div class="comment" data-hash="758e33340d23bb60a68cd48436951824" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/758e33340d23bb60a68cd48436951824.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">Nicholas</big> <span class="comment_time" itemprop="dateCreated">20 August, 2020</span></p>
<div itemprop="text"><p>I am having a strange issue where on some words 
the 'mark' tags close half way through the input word. For example, when
 searching 'help' only the 'he' (and all instances of 'he', such as in 
'heard' also) become <mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark>.
 It happens on a number of random characters combinations without any 
pattern that I can find, but usually on about the 2nd-4th character. Any
 idea what is happening here? Thanks!</p></div>
</div>
<div class="comment" data-hash="547b75cc951c21ae8ca8dd737c03d1c1" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/547b75cc951c21ae8ca8dd737c03d1c1.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">Alejandro</big> <span class="comment_time" itemprop="dateCreated">2 May, 2020</span></p>
<div itemprop="text"><p>@Bharathi</p>

<p>There is n array of colors declared on line 10 of the source file:</p>

<p><code>var colors = ["#ff6", "#a0ffff", "#9f9", "#f99", "#f6f"];</code></p>

<p>You could just leave a single item in the array representing the 
color that u want. The example below is yellow only while highlighting.</p>

<p><code>var colors = ["#ff6"];</code></p></div>
</div>
<div class="comment" data-hash="f20c2d9ae9a9f170b8634914f7b82408" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/f20c2d9ae9a9f170b8634914f7b82408.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">John</big> <span class="comment_time" itemprop="dateCreated">30 April, 2020</span></p>
<div itemprop="text"><p>I have inserted the code of hilitor in my page. 
It works but search only word how can I set hilitor to search any 
character? Thank you.</p></div>
</div>
<div class="comment" data-hash="bd85c562b690bcf6badfceab1b25de78" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/bd85c562b690bcf6badfceab1b25de78.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">Bharathi</big> <span class="comment_time" itemprop="dateCreated">14 April, 2020</span></p>
<div itemprop="text"><p>Hi,i wish to highlight a word with yellow always.<br>
where i need to change code..</p></div>
</div>
<div class="comment" data-hash="144207623afb47f4e6b146138321d7e1" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/144207623afb47f4e6b146138321d7e1.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">Lars</big> <span class="comment_time" itemprop="dateCreated">10 January, 2020</span></p>
<div itemprop="text"><p>Great example. Works for me. Only I cannot 
figure out how to make it work with text in an iframe. Do you by chance 
have an example to share?</p>

<p>Best regards</p>

<p>Lars</p></div>
<div class="response">
<p>There is some discussion and code for this in the comments section if you click [show all comments] below <img src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/icon_cool.gif" alt="" width="15" height="15"></p>
</div>
</div>
<div class="comment" data-hash="d2adc2d1e2c67822d2f3c7f7280840ff" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/d2adc2d1e2c67822d2f3c7f7280840ff.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">David19</big> <span class="comment_time" itemprop="dateCreated">2 June, 2019</span></p>
<div itemprop="text"><p>I am trying search for keyword inside html 
source code i placed html source code inside div as contentEditable but 
it renders html! How to stop html content from rendering inside div snd 
make your script work with it? Thanks</p></div>
</div>
<div class="comment" data-hash="d2adc2d1e2c67822d2f3c7f7280840ff" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/d2adc2d1e2c67822d2f3c7f7280840ff.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">David19</big> <span class="comment_time" itemprop="dateCreated">2 June, 2019</span></p>
<div itemprop="text"><p>Thanks for cool demo. I placed a textarea inside
 playground but unfortunetly it does not higlight text inside text area!
 Could you tell me how to higlight texts inside textarea?</p></div>
<div class="response">
<p>You can't add formatting inside a textarea element.  What you need to
 do instead is hide the textarea and in it's place display a 
synchronised HTML (or ContentEditable) version. <img src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/icon_cool.gif" alt="" width="15" height="15"></p>
</div>
</div>
<div class="comment" data-hash="21cf7c13f8edf97d0663242da58ff4be" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/21cf7c13f8edf97d0663242da58ff4be.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><a href="https://bhfmts.github.io/DevelopmentPortal/" target="_blank" rel="nofollow"><big itemprop="author">Bernardo</big></a> <span class="comment_time" itemprop="dateCreated">11 December, 2018</span></p>
<div itemprop="text"><p>Hi,</p>

<p>It helped but I could no achieve what I want.</p>

<p>I would like to pass a string from a text field and then load another
 page highlighting the text matched and jumping to its position</p>

<p>And when highlighting on keyup listener event, I would like to match 
just the exact string searched, not each keyword, is it possible?</p></div>
<div class="response">
<p>Most all of that should be possible using the existing code.  Some of the comments below include code snippets.</p>

<p>I don't have an example that does exactly what you want, but <a href="https://www.the-art-of-web.com/javascript/search-highlight-demo/">this</a> may help (<a href="https://www.the-art-of-web.com/search-highlight-demo.phps">source</a>). <img src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/icon_cool.gif" alt="" width="15" height="15"></p>
</div>
</div>
<div class="comment" data-hash="21cf7c13f8edf97d0663242da58ff4be" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/21cf7c13f8edf97d0663242da58ff4be.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">Bernardo</big> <span class="comment_time" itemprop="dateCreated">10 December, 2018</span></p>
<div itemprop="text"><p>Very nice feature. <img src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/icon_smile.gif" alt="" width="15" height="15"><br>
I'm wondering if is it possible to jump to the position of the text found? Like jump to the searched text found.</p></div>
<div class="response">
<p>Try the code from Alejandro's comment below <img src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/icon_cool.gif" alt="" width="15" height="15"></p>
</div>
</div>
<div class="comment" data-hash="547b75cc951c21ae8ca8dd737c03d1c1" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/547b75cc951c21ae8ca8dd737c03d1c1.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">Alejandro</big> <span class="comment_time" itemprop="dateCreated">28 September, 2018</span></p>
<div itemprop="text"><p>@Dave Hamstring</p>

<p>Hey Dave i was looking for the same functionality and your input gave me another alternative, see snippet below:</p>

<p><code><br>
        var after = node.splitText(regs.index);<br>
        after.nodeValue = after.nodeValue.substring(regs[0].length);<br>
        node.parentNode.insertBefore(match, after);<br>
        // smooth scroll into view of first instance of hiliteTag<br>
        document.querySelector(hiliteTag).scrollIntoView({behavior: "smooth", block: "center", inline: "center"});<br>
    }<br>
  };<br>
}</code></p>

<p>I included a bit of the top and the closing brackets at the bottom for context and lexical positioning.</p>

<p>Hope it helps</p></div>
</div>
<div class="comment" data-hash="a7618ff30f6388ab26a18b18a46a4a03" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/a7618ff30f6388ab26a18b18a46a4a03.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">David Granberry</big> <span class="comment_time" itemprop="dateCreated">15 June, 2018</span></p>
<div itemprop="text"><p>This hilitor.js looks promising. Can you use several predefined expressions and assign a color to each one? The text to be <mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark> will be in a &lt;textarea&gt; input.<br>
Any feedback is appreciated.<br>
Thanks!</p></div>
</div>
<div class="comment" data-hash="032cb5cd4839fb41f081925f33f44b5b" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/032cb5cd4839fb41f081925f33f44b5b.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">Dave Hamstring</big> <span class="comment_time" itemprop="dateCreated">30 April, 2018</span></p>
<div itemprop="text"><p>Hi, hopefully this helps someone</p>

<p>I am using the open ended option, I wanted to make the first <mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark> word scroll into view in the browser.</p>

<p>I added: node.parentNode.scrollIntoView(true);</p>

<p>line 97 of hilitor.js</p>

<p>Any feedback on whether this is a good way to do it would be great, thanks!</p></div>
</div>
<div class="comment" data-hash="449c3e6d3ce6b94cd113ecbddde6abb5" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/449c3e6d3ce6b94cd113ecbddde6abb5.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><a href="http://www.statdash.com/" target="_blank" rel="nofollow"><big itemprop="author">Pam Nelligan</big></a> <span class="comment_time" itemprop="dateCreated">5 February, 2018</span></p>
<div itemprop="text"><p>Adding to Phil's code to show the # of matches, 
you will need to make this change in order to clear out the "matches" if
 someone backspaces to clear out the search box:</p>

<p><code>    if (input === undefined || !input)<br>
    {<br>
        document.getElementById('matches').innerHTML = "";<br>
        return;<br>
    }</code></p>

<p>Thanks, Phil! Your code worked great for me!</p></div>
</div>
<div class="comment" data-hash="2beac9c987306ff182a0b7affc1b6a33" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/2beac9c987306ff182a0b7affc1b6a33.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">Romel</big> <span class="comment_time" itemprop="dateCreated">26 January, 2018</span></p>
<div itemprop="text"><p>Hi,</p>

<p>I am really glad that i found this. But i wonder if its possible the separate the keywords by commas than spaces?</p>

<p>i use it on page load. i have set of keywords like myHilitor.apply("one two, three"). So i would like to have 2 <mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark> keywords which are "one two" and "three".</p>

<p>Thanks!</p></div>
</div>
<div class="comment" data-hash="c67355441cdacf04f80d37e10466de0f" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/c67355441cdacf04f80d37e10466de0f.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><a href="http://www.dynamicsofgrowth.com/" target="_blank" rel="nofollow"><big itemprop="author">Jerry</big></a> <span class="comment_time" itemprop="dateCreated">16 January, 2018</span></p>
<div itemprop="text"><p>I've implemented the Hilitor Search Engine and 
love it.  Two things: Is there any documentation on customizing filters.
 I noted the one ones on this site do a better job then the default that
 comes with the code. Second I saw some time back a demo where separate 
tallies of each unique word was displayed in a window. And remarkably 
changing as you typed. I'd love to get my hands on that code.</p>

<p>Thanks so much  to all involved in this project!</p></div>
</div>
<div class="comment" data-hash="a673beb2d726f341d2cf886c352b247e" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/a673beb2d726f341d2cf886c352b247e.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">Romain</big> <span class="comment_time" itemprop="dateCreated">6 November, 2017</span></p>
<div itemprop="text"><p>Hello,</p>

<p>The lib for hilitor.js has been replaced by a lib that rotates every 
div on page. Dunno if you've been trolled and/or hacked, be careful.</p>

<p>Here is the changed file:<br>
<a href="https://www.the-art-of-web.com/hilitor.js">www.the-art-of-web.com/hilitor.js</a></p>

<p>Maybe other files has been changed, I didn't looked further.</p></div>
<div class="response">
<p>That only happens when the file is hot-linked from another website.  The originals are unchanged and can be safely copied:</p>

<p>        <a href="https://www.the-art-of-web.com/hilitor.js">www.the-art-of-web.com/hilitor.js</a><br>
        <a href="https://www.the-art-of-web.com/hilitor-utf8.js">www.the-art-of-web.com/hilitor-utf8.js</a></p>

<p><img src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/icon_cool.gif" alt="" width="15" height="15"></p>
</div>
</div>
<div class="comment" data-hash="f77598b399ed55cf7c6aab654dc33595" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/f77598b399ed55cf7c6aab654dc33595.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">Radhika</big> <span class="comment_time" itemprop="dateCreated">9 February, 2017</span></p>
<div itemprop="text"><p>Good work, I face one problem i am not able to search for Supscript or superscript text in the HTML. Any suggestions please</p></div>
</div>
<div class="comment" data-hash="00d0069bb3b4ec6c5f498f967de59eb7" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/00d0069bb3b4ec6c5f498f967de59eb7.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">Alex</big> <span class="comment_time" itemprop="dateCreated">8 February, 2017</span></p>
<div itemprop="text"><p>Nothing to congratulate you on your work. I have the same problem, I use it to search for phrases.</p>

<p>There is one problem that I have and that is if a searched word has a
 punctuation mark (period,comma colon, etc) immediately after it, It 
doen't find the word to highlight it.</p>

<p>Any suggestions?</p></div>
<div class="response">
<p>You will need to modify "breakCharRegex" as described above.  In your
 case, to include spaces and other punctuation in the [^...]. <img src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/icon_cool.gif" alt="" width="15" height="15"></p>
</div>
</div>
<div class="comment" data-hash="5f04ebc67e4156a0bf8f61174ac81896" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/5f04ebc67e4156a0bf8f61174ac81896.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">dedalus</big> <span class="comment_time" itemprop="dateCreated">12 January, 2017</span></p>
<div itemprop="text"><p>Thank you for your excellent script. I was wondering what is the regular expression for a case-sensitive match.</p></div>
<div class="response">
<p>In this line:</p>

<p><code>matchRegex = new RegExp(re, "i");</code></p>

<p>It's the "i" that makes it case-insensitive.</p>

<p>See the <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank">documentation</a>.</p>

<p><img src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/icon_cool.gif" alt="" width="15" height="15"></p>
</div>
</div>
<div class="comment" data-hash="6c813f808506c4837eaa2cb60675ac3e" itemscope="" itemtype="http://schema.org/Comment" style="background-image: url(&quot;//www.gravatar.com/avatar/6c813f808506c4837eaa2cb60675ac3e.jpg?s=48&amp;d=mm&quot;);">
<p class="comment_author"><big itemprop="author">remco</big> <span class="comment_time" itemprop="dateCreated">21 December, 2016</span></p>
<div itemprop="text"><p>Would it be possible to count the words you highlight, based on the html elements?</p>

<p>For example:<br>
keyword found in &lt;h1&gt;: 1<br>
keyword found in &lt;h2&gt;: 3<br>
keyword found in &lt;p&gt;: 4<br>
keyword found in &lt;a&gt;: 1</p>

<p>With that you can create a simple keyword density tool to create better seo content</p></div>
<div class="response">
<p>I would first run the Hilitor, and then a separate script to identify all the <mark style="background-color: rgb(255, 255, 102); color: rgb(0, 0, 0); --darkreader-inline-bgcolor:#8f8f00; --darkreader-inline-color:#e8e6e3;" data-darkreader-inline-bgcolor="" data-darkreader-inline-color="">highlighted</mark> words and step up to their containing elements. <img src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/icon_cool.gif" alt="" width="15" height="15"></p>
</div>
</div>
</div>
<div id="morecomments">
<p style="text-align: center;"><button onclick="loadAllCommentsAjax();">show all 77 comments</button></p>
</div>


<script>var loadAllCommentsAjax=function(value,target){if(encodeURIComponent){var params={"page":"/javascript/search-highlight/"};if(typeof AjaxRequestXML=="undefined"){var script=document.createElement("script");script.onload=function(){(new AjaxRequestXML()).post("/scripts/loadallcomments.xml",params);}
script.src="/scripts/AjaxRequestXML.js";document.head.appendChild(script);return true;}else{return(new AjaxRequestXML()).post("/scripts/loadallcomments.xml",params);}}}
var comments_onload=function(){var arr=document.getElementById("comments").getElementsByTagName("div");for(var i=0;i<arr.length;i++){if((arr[i].className=="comment")&&(hash=arr[i].getAttribute("data-hash"))){arr[i].style.backgroundImage="url(//www.gravatar.com/avatar/"+hash+".jpg?s=48&d=mm)";}}};if(document.addEventListener){document.addEventListener("DOMContentLoaded",comments_onload,false);}else{window.attachEvent("onload",comments_onload);}</script>

<div class="clear"></div>
</main>

<footer id="copyright">
<a href="https://www.the-art-of-web.com/copyright.html">© Copyright 2021</a> <a href="https://www.chirpinternet.eu/" target="_blank">Chirp Internet</a> 
- Page Last Modified: 13 December 2018 
- <a href="https://www.the-art-of-web.com/cookies.html">Privacy &amp; Cookies</a>
</footer>

<a class="totop" href="#content" onclick="document.getElementById('content').scrollIntoView({behavior: 'smooth'}); return false;">top</a>

<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-3458555-1','auto');ga('send','pageview');</script>
<script src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/combined.js"></script>
<script>var mySuggest=new Suggestor("sitesearch","suggest","/scripts/autosuggest.xml",{regex:/^.{3,12}$/});var myHilitor;window.addEventListener("DOMContentLoaded",function(e){myHilitor=new Hilitor("content");myHilitor.apply("highlighted");var targetNode=document.getElementsByTagName("h1")[0];var el=document.createElement("p");el.id="remove_link";el.className="noprint";el.style.fontSize="10px";el.innerHTML="<b>Highlighted terms</b>: "+myHilitor.getRegex()+" | <a href=\"?nohilite\" onclick=\"myHilitor.remove(); document.getElementById('remove_link').style['display'] = 'none'; return false;\">remove</a>";targetNode.parentNode.insertBefore(el,targetNode.nextSibling);},false);window.onerror=function(msg,url,line){if(encodeURIComponent){var AjaxTarget="/scripts/logerror.xml";var params={"msg":msg,"url":url,"line":line};if(typeof AjaxRequestXML=="undefined"){var script=document.createElement("script");script.onload=function(){(new AjaxRequestXML()).post(AjaxTarget,params);}
script.src="/scripts/AjaxRequestXML.js";document.head.appendChild(script);return true;}else{return(new AjaxRequestXML()).post(AjaxTarget,params);}}return false;}</script>

<!-- web development by chirp internet -->


<ins class="adsbygoogle adsbygoogle-noablate" style="display: none !important;" data-adsbygoogle-status="done" data-ad-status="unfilled"><ins id="aswift_2_expand" style="display: inline-table; border: medium none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 0px; background-color: transparent; --darkreader-inline-border-top:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-bgcolor:transparent;" tabindex="0" title="Advertisement" aria-label="Advertisement" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" data-darkreader-inline-bgcolor=""><ins id="aswift_2_anchor" style="display: block; border: medium none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 0px; background-color: transparent; --darkreader-inline-border-top:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-bgcolor:transparent;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" data-darkreader-inline-bgcolor=""><iframe id="aswift_2" name="aswift_2" style="left: 0px; position: absolute; top: 0px; border: 0px none; --darkreader-inline-border-top:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/ads_003.htm" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!3" data-load-complete="true" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" frameborder="0"></iframe></ins></ins></ins><iframe id="google_osd_static_frame_8075607851404" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;"></iframe><iframe src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/aframe.htm" style="display: none;" width="0" height="0"></iframe></body><iframe id="google_esf" name="google_esf" src="Search%20Keyword%20Highlighting%20(%20JavaScript%20The%20Art%20of%20Web_files/zrt_lookup.htm" style="display: none;"></iframe></html>